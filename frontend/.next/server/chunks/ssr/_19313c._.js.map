{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/EricSang/School/Web%20Dev/Cwmf/frontend/app/game/%5Bid%5D/play/page.js"],"sourcesContent":["// app/game/[id]/play/page.js\n'use client'\nimport { useState, useEffect } from 'react'\n\n// Import your existing pages as components\nimport PrepStage from './stages/PrepStage'\nimport GameStage from './stages/GameStage'\nimport WaitingStage from './stages/WaitingStage'\nimport VotingStage from './stages/VotingStage'\nimport ResultsStage from './stages/ResultsStage'\n\nexport default function PlayPage({ params }) {\n    const [stage, setStage] = useState('PREP')\n    const [currentRound, setCurrentRound] = useState(5)\n    const [timeLeft, setTimeLeft] = useState(30)\n    const [answers, setAnswers] = useState([])\n\n    // Timer logic can be shared across stages\n    useEffect(() => {\n        const interval = setInterval(() => {\n            setTimeLeft((prevTime) => {\n                if (prevTime <= 0) {\n                    clearInterval(interval)\n                    // Auto-advance to next stage when timer runs out\n                    handleTimeUp()\n                    return 0\n                }\n                return prevTime - 1\n            })\n        }, 1000)\n        return () => clearInterval(interval)\n    }, [stage])\n\n    const handleTimeUp = () => {\n        switch (stage) {\n            case 'PREP':\n                setStage('GAME')\n                setTimeLeft(30) // Reset timer for game stage\n                break\n            case 'GAME':\n                setStage('WAITING')\n                break\n            case 'WAITING':\n                setStage('VOTING')\n                setTimeLeft(45) // Set voting time\n                break\n            case 'VOTING':\n                setStage('RESULTS')\n                break\n            case 'RESULTS':\n                // Move to next round or end game\n                handleNextRound()\n                break\n        }\n    }\n\n    const handleNextRound = () => {\n        setCurrentRound(prev => prev + 1)\n        setStage('PREP')\n        setTimeLeft(30)\n        setAnswers([])\n    }\n\n    const handleSubmitAnswer = (answer) => {\n        setAnswers(prev => [...prev, answer])\n        setStage('WAITING')\n    }\n\n    const renderStage = () => {\n        const commonProps = {\n            currentRound,\n            timeLeft,\n            theme: \"Things a pirate would say\",\n            prompt: \"BBL\"\n        }\n\n        switch (stage) {\n            case 'PREP':\n                return <PrepStage {...commonProps} onTimeUp={() => setStage('GAME')} />\n            case 'GAME':\n                return <GameStage {...commonProps} onSubmit={handleSubmitAnswer} />\n            case 'WAITING':\n                return <WaitingStage {...commonProps} />\n            case 'VOTING':\n                return <VotingStage {...commonProps} answers={answers} onVote={(vote) => {\n                    // Handle vote logic\n                    setStage('RESULTS')\n                }} />\n            case 'RESULTS':\n                return <ResultsStage {...commonProps} answers={answers} onNext={handleNextRound} />\n            default:\n                return <div>Loading...</div>\n        }\n    }\n\n    return <div className=\"min-h-screen\">{renderStage()}</div>\n}"],"names":[],"mappings":"AAAA,6BAA6B;;;;;AAE7B;;;;;;;;;;;;;;;;;;;;;;;;;;AADA;;;;;;;;AAUe,SAAS,SAAS,EAAE,MAAM,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAEzC,0CAA0C;IAC1C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,WAAW,YAAY;YACzB,YAAY,CAAC;gBACT,IAAI,YAAY,GAAG;oBACf,cAAc;oBACd,iDAAiD;oBACjD;oBACA,OAAO;gBACX;gBACA,OAAO,WAAW;YACtB;QACJ,GAAG;QACH,OAAO,IAAM,cAAc;IAC/B,GAAG;QAAC;KAAM;IAEV,MAAM,eAAe;QACjB,OAAQ;YACJ,KAAK;gBACD,SAAS;gBACT,YAAY,IAAI,6BAA6B;;gBAC7C;YACJ,KAAK;gBACD,SAAS;gBACT;YACJ,KAAK;gBACD,SAAS;gBACT,YAAY,IAAI,kBAAkB;;gBAClC;YACJ,KAAK;gBACD,SAAS;gBACT;YACJ,KAAK;gBACD,iCAAiC;gBACjC;gBACA;QACR;IACJ;IAEA,MAAM,kBAAkB;QACpB,gBAAgB,CAAA,OAAQ,OAAO;QAC/B,SAAS;QACT,YAAY;QACZ,WAAW,EAAE;IACjB;IAEA,MAAM,qBAAqB,CAAC;QACxB,WAAW,CAAA,OAAQ;mBAAI;gBAAM;aAAO;QACpC,SAAS;IACb;IAEA,MAAM,cAAc;QAChB,MAAM,cAAc;YAChB;YACA;YACA,OAAO;YACP,QAAQ;QACZ;QAEA,OAAQ;YACJ,KAAK;gBACD,qBAAO,8OAAC;oBAAW,GAAG,WAAW;oBAAE,UAAU,IAAM,SAAS;;;;;;YAChE,KAAK;gBACD,qBAAO,8OAAC;oBAAW,GAAG,WAAW;oBAAE,UAAU;;;;;;YACjD,KAAK;gBACD,qBAAO,8OAAC;oBAAc,GAAG,WAAW;;;;;;YACxC,KAAK;gBACD,qBAAO,8OAAC;oBAAa,GAAG,WAAW;oBAAE,SAAS;oBAAS,QAAQ,CAAC;wBAC5D,oBAAoB;wBACpB,SAAS;oBACb;;;;;;YACJ,KAAK;gBACD,qBAAO,8OAAC;oBAAc,GAAG,WAAW;oBAAE,SAAS;oBAAS,QAAQ;;;;;;YACpE;gBACI,qBAAO,8OAAC;8BAAI;;;;;;QACpB;IACJ;IAEA,qBAAO,8OAAC;QAAI,WAAU;kBAAgB;;;;;;AAC1C"}},
    {"offset": {"line": 181, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 191, "column": 0}, "map": {"version":3,"sources":["file:///Users/EricSang/School/Web%20Dev/Cwmf/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,0HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}